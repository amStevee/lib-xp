Object.defineProperty(exports,"__esModule",{value:true});const _express=/*#__PURE__*/_interop_require_default(require("express"));const _cors=/*#__PURE__*/_interop_require_default(require("cors"));const _rateLimit=require("./middleware/rateLimit");const _prismasession=/*#__PURE__*/_interop_require_default(require("./config/prisma-session"));const _dotenv=/*#__PURE__*/_interop_require_default(require("dotenv"));const _morgan=/*#__PURE__*/_interop_require_default(require("morgan"));const _errorHandler=require("./utils/errorHandler");const _authroutes=/*#__PURE__*/_interop_require_default(require("./routes/auth-routes/auth.routes"));function _interop_require_default(obj){return obj&&obj.__esModule?obj:{default:obj}}_dotenv.default.config();const app=(0,_express.default)();app.use((0,_cors.default)({origin:"*",credentials:true,maxAge:60*1e3}));app.use(_rateLimit.limiter);app.use(_prismasession.default);if(process.env.NODE_ENV==="development")app.use((0,_morgan.default)("dev"));app.use(_express.default.json());app.use(_express.default.urlencoded({extended:false}));app.use("/oauth2",_authroutes.default);app.all("*",_errorHandler.routeNotFound);app.use(_errorHandler.globalErrorHandler);const port=process.env.PORT||8e3;app.listen(port,()=>{console.log(`server is running on port ${port}`)});